{% extends 'base.html' %}

{% block title %}
addhome
{% endblock title %}

{% block body %}
<form action="/addhome/" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
     City: <input type="text" name="city" placeholder="City Name" required=""><br>
     address: <input type="text" name="address" placeholder="address" required=""><br>
     Rent: <input type="number" name="rent" placeholder="Rent"><br>
     Image: <input type="file" name="image" required><br>
     Contact Number: <input type="tel" name="phone" placeholder="mobile no."><br>
     description: <textarea name="description" rows="4" cols="50"></textarea><br>
     <label for="latitude">Latitude:</label> <input type="text" name="latitude" id="latitude">
     <label for="longitude">Longitude:</label> <input type="text" name="longitude" id="longitude"><br>
     <!-- bedroom1: <input type="file" name="bedroom1"><br>
     bedroom2: <input type="file" name="bedroom2"><br>
     kitchen: <input type="file" name="kitchen"><br>
     other: <input type="file" name="other"><br> -->
     <input type="submit" name="submit">
</form>
<br>
<div id="googleMap" style="width:100%;height:400px;"></div>
<br>
<script>
function myMap() {
var mapProp= {
  center:new google.maps.LatLng(21.2514,81.6296),
  zoom:12,
};
var marker;

function placeMarker(location) {
  if ( marker ) {
    marker.setPosition(location);
  } else {
    marker = new google.maps.Marker({
      position: location,
      map: map
    });
  }
}

var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
map.addListener('click', function(e) {
    placeMarker(e.latLng, map);
    a = e.latLng;
    lat =parseFloat(a.lat('get'));
    long =parseFloat(a.lng('get'));
    var lat_text_input = document.getElementById('latitude');
    var long_text_input = document.getElementById('longitude');
    lat_text_input.value = lat;
    long_text_input.value = long;

});
}

/*
function placeMarker(position, map) {
    var marker = new google.maps.Marker({
        position: position,
        map: map
    });
    map.panTo(position);
}
*/
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8SoF_iIZGABFQKJOvQwqGZ5bf8_R20H0&callback=myMap"></script>
{% endblock body %}

    